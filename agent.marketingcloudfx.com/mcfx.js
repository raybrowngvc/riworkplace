!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){function t(t){return!!(t&&t.constructor&&t.call&&t.apply)}function e(t){return"[object Object]"===Object.prototype.toString.call(t)}function r(t){return null!=t}function n(t){if(!e(t))return!1;if(null===t)return!1;const r=t.constructor,n=r.prototype;return void 0===r||!!e(n)&&!!n.isPrototypeOf}const o=navigator.sendBeacon.bind(navigator);function i(t,e){return new Promise((r,o)=>{let i;const a=new XMLHttpRequest,s={url:"",type:"GET",data:"",dataType:"json",async:!0,timeout:3e3,headers:{}};i=e?{...s,url:t,...e}:{...s,...e||{},...n(t)?t:{url:t}},i.type||o("You must provide a request type"),i.type=i.type.toUpperCase(),a.open(i.type,i.url),"json"===i.dataType&&("string"!=typeof i.data&&(i.data=JSON.stringify(i.data)),a.setRequestHeader("Content-type","application/json")),"POST"===i.type&&"json"!==i.dataType&&a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.headers&&Object.entries(i.headers).forEach(t=>{let[e,r]=t;return a.setRequestHeader(e,r)}),a.onload=function(){a.status>=400?o(a.responseText):r(a)},a.onerror=function(){o(a.responseText)},i.data?a.send(i.data):a.send()})}function a(t,e){if(navigator.sendBeacon)try{if(!o(t,"string"!=typeof e?JSON.stringify(e):e))throw new Error("Failed to queue beacon")}catch(r){i({url:t,data:e,type:"POST"}).catch(t=>{})}else i({url:t,data:e,type:"POST"}).catch(t=>{})}const s="https://t.marketingcloudfx.com/visit",c={fx_matchtype:["mt"],fx_network:["n"],fx_creative:["c"],fx_keyword:["q"],fx_placement:["p"],fx_aceid:["ac"],fx_adposition:["ap"],utm_campaign:["utmc"],utm_content:["utmct"],utm_source:["utms","s"],utm_medium:["utms","m"],utm_segment:["utmse"],gclid:["gclid"],gbraid:["gbraid"],wbraid:["wbraid"],msclkid:["msclkid"],fbclid:["fbclid"],twclid:["twclid"],li_fat_id:["li_fat_id"],epik:["epik"],pp:["pp"],adClickId:["adId"]};function u(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}var l,p=function t(e,r){function n(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=u({},r,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in o)o[a]&&(i+="; "+a,!0!==o[a]&&(i+="="+o[a].split(";")[0]));return document.cookie=t+"="+e.write(n,t)+i}}return Object.create({set:n,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var r=document.cookie?document.cookie.split("; "):[],n={},o=0;o<r.length;o++){var i=r[o].split("="),a=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(n[s]=e.read(a,s),t===s)break}catch(t){}}return t?n[t]:n}},remove:function(t,e){n(t,"",u({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,u({},this.attributes,e))},withConverter:function(e){return t(u({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),f=new Uint8Array(16);function y(){if(!l&&!(l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(f)}var d=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function h(t){return"string"==typeof t&&d.test(t)}for(var m=[],g=0;g<256;++g)m.push((g+256).toString(16).substr(1));function b(t,e,r){var n=(t=t||{}).random||(t.rng||y)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=n[o];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(m[t[e+0]]+m[t[e+1]]+m[t[e+2]]+m[t[e+3]]+"-"+m[t[e+4]]+m[t[e+5]]+"-"+m[t[e+6]]+m[t[e+7]]+"-"+m[t[e+8]]+m[t[e+9]]+"-"+m[t[e+10]]+m[t[e+11]]+m[t[e+12]]+m[t[e+13]]+m[t[e+14]]+m[t[e+15]]).toLowerCase();if(!h(r))throw TypeError("Stringified UUID is invalid");return r}(n)}function v(t){var e={exports:{}};return t(e,e.exports),e.exports}var w,S="Function.prototype.bind called on incompatible ",A=Array.prototype.slice,j=Object.prototype.toString,O="[object Function]",E=Function.prototype.bind||function(t){var e=this;if("function"!=typeof e||j.call(e)!==O)throw new TypeError(S+e);for(var r,n=A.call(arguments,1),o=function(){if(this instanceof r){var o=e.apply(this,n.concat(A.call(arguments)));return Object(o)===o?o:this}return e.apply(t,n.concat(A.call(arguments)))},i=Math.max(0,e.length-n.length),a=[],s=0;s<i;s++)a.push("$"+s);if(r=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),e.prototype){var c=function(){};c.prototype=e.prototype,r.prototype=new c,c.prototype=null}return r},x=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0},P="undefined"!=typeof Symbol&&Symbol,I=function(){return"function"==typeof P&&"function"==typeof Symbol&&"symbol"==typeof P("foo")&&"symbol"==typeof Symbol("bar")&&x()},k={foo:{}},T=Object,C=E.call(Function.call,Object.prototype.hasOwnProperty),F=SyntaxError,_=Function,L=TypeError,R=function(t){try{return _('"use strict"; return ('+t+").constructor;")()}catch(t){}},U=Object.getOwnPropertyDescriptor;if(U)try{U({},"")}catch(xn){U=null}var D=function(){throw new L},N=U?function(){try{return D}catch(t){try{return U(arguments,"callee").get}catch(t){return D}}}():D,M=I(),B=Object.getPrototypeOf||({__proto__:k}.foo!==k.foo||{__proto__:null}instanceof T?null:function(t){return t.__proto__}),$={},W="undefined"!=typeof Uint8Array&&B?B(Uint8Array):w,q={"%AggregateError%":"undefined"==typeof AggregateError?w:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?w:ArrayBuffer,"%ArrayIteratorPrototype%":M&&B?B([][Symbol.iterator]()):w,"%AsyncFromSyncIteratorPrototype%":w,"%AsyncFunction%":$,"%AsyncGenerator%":$,"%AsyncGeneratorFunction%":$,"%AsyncIteratorPrototype%":$,"%Atomics%":"undefined"==typeof Atomics?w:Atomics,"%BigInt%":"undefined"==typeof BigInt?w:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?w:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?w:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?w:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?w:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?w:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?w:FinalizationRegistry,"%Function%":_,"%GeneratorFunction%":$,"%Int8Array%":"undefined"==typeof Int8Array?w:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?w:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?w:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":M&&B?B(B([][Symbol.iterator]())):w,"%JSON%":"object"==typeof JSON?JSON:w,"%Map%":"undefined"==typeof Map?w:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&M&&B?B((new Map)[Symbol.iterator]()):w,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?w:Promise,"%Proxy%":"undefined"==typeof Proxy?w:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?w:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?w:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&M&&B?B((new Set)[Symbol.iterator]()):w,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?w:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":M&&B?B(""[Symbol.iterator]()):w,"%Symbol%":M?Symbol:w,"%SyntaxError%":F,"%ThrowTypeError%":N,"%TypedArray%":W,"%TypeError%":L,"%Uint8Array%":"undefined"==typeof Uint8Array?w:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?w:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?w:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?w:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?w:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?w:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?w:WeakSet};if(B)try{null.error}catch(xn){var G=B(B(xn));q["%Error.prototype%"]=G}var J=function t(e){var r;if("%AsyncFunction%"===e)r=R("async function () {}");else if("%GeneratorFunction%"===e)r=R("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=R("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&B&&(r=B(o.prototype))}return q[e]=r,r},V={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},z=E.call(Function.call,Array.prototype.concat),H=E.call(Function.apply,Array.prototype.splice),X=E.call(Function.call,String.prototype.replace),Y=E.call(Function.call,String.prototype.slice),K=E.call(Function.call,RegExp.prototype.exec),Q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z=/\\(\\)?/g,tt=function(t){var e=Y(t,0,1),r=Y(t,-1);if("%"===e&&"%"!==r)throw new F("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new F("invalid intrinsic syntax, expected opening `%`");var n=[];return X(t,Q,function(t,e,r,o){n[n.length]=r?X(o,Z,"$1"):e||t}),n},et=function(t,e){var r,n=t;if(C(V,n)&&(n="%"+(r=V[n])[0]+"%"),C(q,n)){var o=q[n];if(o===$&&(o=J(n)),void 0===o&&!e)throw new L("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new F("intrinsic "+t+" does not exist!")},rt=function(t,e){if("string"!=typeof t||0===t.length)throw new L("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new L('"allowMissing" argument must be a boolean');if(null===K(/^%?[^%]*%?$/,t))throw new F("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=tt(t),n=r.length>0?r[0]:"",o=et("%"+n+"%",e),i=o.name,a=o.value,s=!1,c=o.alias;c&&(n=c[0],H(r,z([0,1],c)));for(var u=1,l=!0;u<r.length;u+=1){var p=r[u],f=Y(p,0,1),y=Y(p,-1);if(('"'===f||"'"===f||"`"===f||'"'===y||"'"===y||"`"===y)&&f!==y)throw new F("property names with quotes must have matching quotes");if("constructor"!==p&&l||(s=!0),C(q,i="%"+(n+="."+p)+"%"))a=q[i];else if(null!=a){if(!(p in a)){if(!e)throw new L("base intrinsic for "+t+" exists, but the property is not available.");return}if(U&&u+1>=r.length){var d=U(a,p);a=(l=!!d)&&"get"in d&&!("originalValue"in d.get)?d.get:a[p]}else l=C(a,p),a=a[p];l&&!s&&(q[i]=a)}}return a},nt=v(function(t){var e=rt("%Function.prototype.apply%"),r=rt("%Function.prototype.call%"),n=rt("%Reflect.apply%",!0)||E.call(r,e),o=rt("%Object.getOwnPropertyDescriptor%",!0),i=rt("%Object.defineProperty%",!0),a=rt("%Math.max%");if(i)try{i({},"a",{value:1})}catch(t){i=null}t.exports=function(t){var e=n(E,r,arguments);if(o&&i){var s=o(e,"length");s.configurable&&i(e,"length",{value:1+a(0,t.length-(arguments.length-1))})}return e};var s=function(){return n(E,e,arguments)};i?i(t.exports,"apply",{value:s}):t.exports.apply=s}),ot=nt(rt("String.prototype.indexOf")),it=function(t,e){var r=rt(t,!!e);return"function"==typeof r&&ot(t,".prototype.")>-1?nt(r):r},at=rt("%TypeError%"),st=function(t,e){if(null==t)throw new at(e||"Cannot call method on "+t);return t},ct=st,ut=rt("%Array%"),lt=!ut.isArray&&it("Object.prototype.toString"),pt=ut.isArray||function(t){return"[object Array]"===lt(t)},ft=rt("%TypeError%"),yt=rt("%Reflect.apply%",!0)||it("Function.prototype.apply"),dt={__proto__:null,default:{}},ht="function"==typeof Map&&Map.prototype,mt=Object.getOwnPropertyDescriptor&&ht?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,gt=ht&&mt&&"function"==typeof mt.get?mt.get:null,bt=ht&&Map.prototype.forEach,vt="function"==typeof Set&&Set.prototype,wt=Object.getOwnPropertyDescriptor&&vt?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,St=vt&&wt&&"function"==typeof wt.get?wt.get:null,At=vt&&Set.prototype.forEach,jt="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,Ot="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,Et="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,xt=Boolean.prototype.valueOf,Pt=Object.prototype.toString,It=Function.prototype.toString,kt=String.prototype.match,Tt=String.prototype.slice,Ct=String.prototype.replace,Ft=String.prototype.toUpperCase,_t=String.prototype.toLowerCase,Lt=RegExp.prototype.test,Rt=Array.prototype.concat,Ut=Array.prototype.join,Dt=Array.prototype.slice,Nt=Math.floor,Mt="function"==typeof BigInt?BigInt.prototype.valueOf:null,Bt=Object.getOwnPropertySymbols,$t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Wt="function"==typeof Symbol&&"object"==typeof Symbol.iterator,qt="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Gt=Object.prototype.propertyIsEnumerable,Jt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Vt(t,e){if(Infinity===t||-Infinity===t||t!=t||t&&t>-1e3&&t<1e3||Lt.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-Nt(-t):Nt(t);if(n!==t){var o=String(n),i=Tt.call(e,o.length+1);return Ct.call(o,r,"$&_")+"."+Ct.call(Ct.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ct.call(e,r,"$&_")}var zt=dt.custom,Ht=Zt(zt)?zt:null;function Xt(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function Yt(t){return Ct.call(String(t),/"/g,"&quot;")}function Kt(t){return!("[object Array]"!==re(t)||qt&&"object"==typeof t&&qt in t)}function Qt(t){return!("[object RegExp]"!==re(t)||qt&&"object"==typeof t&&qt in t)}function Zt(t){if(Wt)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!$t)return!1;try{return $t.call(t),!0}catch(t){}return!1}var te=Object.prototype.hasOwnProperty||function(t){return t in this};function ee(t,e){return te.call(t,e)}function re(t){return Pt.call(t)}function ne(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function oe(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return oe(Tt.call(t,0,e.maxStringLength),e)+n}return Xt(Ct.call(Ct.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ie),"single",e)}function ie(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Ft.call(e.toString(16))}function ae(t){return"Object("+t+")"}function se(t){return t+" { ? }"}function ce(t,e,r,n){return t+" ("+e+") {"+(n?ue(r,n):Ut.call(r,", "))+"}"}function ue(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+Ut.call(t,","+r)+"\n"+e.prev}function le(t,e){var r=Kt(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=ee(t,o)?e(t[o],t):""}var i,a="function"==typeof Bt?Bt(t):[];if(Wt){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var c in t)ee(t,c)&&(r&&String(Number(c))===c&&c<t.length||Wt&&i["$"+c]instanceof Symbol||(Lt.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if("function"==typeof Bt)for(var u=0;u<a.length;u++)Gt.call(t,a[u])&&n.push("["+e(a[u])+"]: "+e(t[a[u]],t));return n}var pe,fe,ye=function t(e,r,n,o){var i=r||{};if(ee(i,"quoteStyle")&&"single"!==i.quoteStyle&&"double"!==i.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ee(i,"maxStringLength")&&("number"==typeof i.maxStringLength?i.maxStringLength<0&&Infinity!==i.maxStringLength:null!==i.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=!ee(i,"customInspect")||i.customInspect;if("boolean"!=typeof a&&"symbol"!==a)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ee(i,"indent")&&null!==i.indent&&"\t"!==i.indent&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ee(i,"numericSeparator")&&"boolean"!=typeof i.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=i.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return oe(e,i);if("number"==typeof e){if(0===e)return Infinity/e>0?"0":"-0";var c=String(e);return s?Vt(e,c):c}if("bigint"==typeof e){var u=String(e)+"n";return s?Vt(e,u):u}var l=void 0===i.depth?5:i.depth;if(void 0===n&&(n=0),n>=l&&l>0&&"object"==typeof e)return Kt(e)?"[Array]":"[Object]";var p,f=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=Ut.call(Array(t.indent+1)," ")}return{base:r,prev:Ut.call(Array(e+1),r)}}(i,n);if(void 0===o)o=[];else if(ne(o,e)>=0)return"[Circular]";function y(e,r,a){if(r&&(o=Dt.call(o)).push(r),a){var s={depth:i.depth};return ee(i,"quoteStyle")&&(s.quoteStyle=i.quoteStyle),t(e,s,n+1,o)}return t(e,i,n+1,o)}if("function"==typeof e&&!Qt(e)){var d=function(t){if(t.name)return t.name;var e=kt.call(It.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),h=le(e,y);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(h.length>0?" { "+Ut.call(h,", ")+" }":"")}if(Zt(e)){var m=Wt?Ct.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):$t.call(e);return"object"!=typeof e||Wt?m:ae(m)}if((p=e)&&"object"==typeof p&&("undefined"!=typeof HTMLElement&&p instanceof HTMLElement||"string"==typeof p.nodeName&&"function"==typeof p.getAttribute)){for(var g="<"+_t.call(String(e.nodeName)),b=e.attributes||[],v=0;v<b.length;v++)g+=" "+b[v].name+"="+Xt(Yt(b[v].value),"double",i);return g+=">",e.childNodes&&e.childNodes.length&&(g+="..."),g+"</"+_t.call(String(e.nodeName))+">"}if(Kt(e)){if(0===e.length)return"[]";var w=le(e,y);return f&&!function(t){for(var e=0;e<t.length;e++)if(ne(t[e],"\n")>=0)return!1;return!0}(w)?"["+ue(w,f)+"]":"[ "+Ut.call(w,", ")+" ]"}if(function(t){return!("[object Error]"!==re(t)||qt&&"object"==typeof t&&qt in t)}(e)){var S=le(e,y);return"cause"in Error.prototype||!("cause"in e)||Gt.call(e,"cause")?0===S.length?"["+String(e)+"]":"{ ["+String(e)+"] "+Ut.call(S,", ")+" }":"{ ["+String(e)+"] "+Ut.call(Rt.call("[cause]: "+y(e.cause),S),", ")+" }"}if("object"==typeof e&&a){if(Ht&&"function"==typeof e[Ht]&&dt)return dt(e,{depth:l-n});if("symbol"!==a&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!gt||!t||"object"!=typeof t)return!1;try{gt.call(t);try{St.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var A=[];return bt&&bt.call(e,function(t,r){A.push(y(r,e,!0)+" => "+y(t,e))}),ce("Map",gt.call(e),A,f)}if(function(t){if(!St||!t||"object"!=typeof t)return!1;try{St.call(t);try{gt.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var j=[];return At&&At.call(e,function(t){j.push(y(t,e))}),ce("Set",St.call(e),j,f)}if(function(t){if(!jt||!t||"object"!=typeof t)return!1;try{jt.call(t,jt);try{Ot.call(t,Ot)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return se("WeakMap");if(function(t){if(!Ot||!t||"object"!=typeof t)return!1;try{Ot.call(t,Ot);try{jt.call(t,jt)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return se("WeakSet");if(function(t){if(!Et||!t||"object"!=typeof t)return!1;try{return Et.call(t),!0}catch(t){}return!1}(e))return se("WeakRef");if(function(t){return!("[object Number]"!==re(t)||qt&&"object"==typeof t&&qt in t)}(e))return ae(y(Number(e)));if(function(t){if(!t||"object"!=typeof t||!Mt)return!1;try{return Mt.call(t),!0}catch(t){}return!1}(e))return ae(y(Mt.call(e)));if(function(t){return!("[object Boolean]"!==re(t)||qt&&"object"==typeof t&&qt in t)}(e))return ae(xt.call(e));if(function(t){return!("[object String]"!==re(t)||qt&&"object"==typeof t&&qt in t)}(e))return ae(y(String(e)));if(!function(t){return!("[object Date]"!==re(t)||qt&&"object"==typeof t&&qt in t)}(e)&&!Qt(e)){var O=le(e,y),E=Jt?Jt(e)===Object.prototype:e instanceof Object||e.constructor===Object,x=e instanceof Object?"":"null prototype",P=!E&&qt&&Object(e)===e&&qt in e?Tt.call(re(e),8,-1):x?"Object":"",I=(E||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(P||x?"["+Ut.call(Rt.call([],P||[],x||[]),": ")+"] ":"");return 0===O.length?I+"{}":f?I+"{"+ue(O,f)+"}":I+"{ "+Ut.call(O,", ")+" }"}return String(e)},de=function(t){return"symbol"==typeof t?"Symbol":"bigint"==typeof t?"BigInt":function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0}(t)},he=rt("%TypeError%"),me=Function.prototype.toString,ge="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof ge&&"function"==typeof Object.defineProperty)try{pe=Object.defineProperty({},"length",{get:function(){throw fe}}),fe={},ge(function(){throw 42},null,pe)}catch(t){t!==fe&&(ge=null)}else ge=null;var be=/^\s*class\b/,ve=function(t){try{var e=me.call(t);return be.test(e)}catch(t){return!1}},we=function(t){try{return!ve(t)&&(me.call(t),!0)}catch(t){return!1}},Se=Object.prototype.toString,Ae="function"==typeof Symbol&&!!Symbol.toStringTag,je=!(0 in[,]),Oe=function(){return!1};if("object"==typeof document){var Ee=document.all;Se.call(Ee)===Se.call(document.all)&&(Oe=function(t){if((je||!t)&&(void 0===t||"object"==typeof t))try{var e=Se.call(t);return("[object HTMLAllCollection]"===e||"[object HTML document.all class]"===e||"[object HTMLCollection]"===e||"[object Object]"===e)&&null==t("")}catch(t){}return!1})}var xe,Pe,Ie,ke,Te=ge?function(t){if(Oe(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;try{ge(t,null,pe)}catch(t){if(t!==fe)return!1}return!ve(t)&&we(t)}:function(t){if(Oe(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(Ae)return we(t);if(ve(t))return!1;var e=Se.call(t);return!("[object Function]"!==e&&"[object GeneratorFunction]"!==e&&!/^\[object HTML/.test(e))&&we(t)},Ce=Te,Fe=Number.MAX_SAFE_INTEGER||9007199254740991,_e=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t},Le=Date.prototype.getDay,Re=Object.prototype.toString,Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,De=function(t){return"object"==typeof t&&null!==t&&(Ue?function(t){try{return Le.call(t),!0}catch(t){return!1}}(t):"[object Date]"===Re.call(t))},Ne=v(function(t){var e=Object.prototype.toString;if(I()){var r=Symbol.prototype.toString,n=/^Symbol\(.*\)$/;t.exports=function(t){if("symbol"==typeof t)return!0;if("[object Symbol]"!==e.call(t))return!1;try{return function(t){return"symbol"==typeof t.valueOf()&&n.test(r.call(t))}(t)}catch(t){return!1}}}else t.exports=function(t){return!1}}),Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,Be=function(t,e){if(null==t)throw new TypeError("Cannot call method on "+t);if("string"!=typeof e||"number"!==e&&"string"!==e)throw new TypeError('hint must be "string" or "number"');var r,n,o,i="string"===e?["toString","valueOf"]:["valueOf","toString"];for(o=0;o<i.length;++o)if(Te(r=t[i[o]])&&(n=r.call(t),_e(n)))return n;throw new TypeError("No default value")},$e=function(t,e){var r=t[e];if(null!=r){if(!Te(r))throw new TypeError(r+" returned for property "+e+" of object "+t+" is not a function");return r}},We=function(t){if(_e(t))return t;var e,r="default";if(arguments.length>1&&(arguments[1]===String?r="string":arguments[1]===Number&&(r="number")),Me&&(Symbol.toPrimitive?e=$e(t,Symbol.toPrimitive):Ne(t)&&(e=Symbol.prototype.valueOf)),void 0!==e){var n=e.call(t,r);if(_e(n))return n;throw new TypeError("unable to convert exotic object to primitive")}return"default"===r&&(De(t)||Ne(t))&&(r="string"),Be(t,"default"===r?"number":r)},qe=x()&&!!Symbol.toStringTag;if(qe){xe=it("Object.prototype.hasOwnProperty"),Pe=it("RegExp.prototype.exec"),Ie={};var Ge=function(){throw Ie};ke={toString:Ge,valueOf:Ge},"symbol"==typeof Symbol.toPrimitive&&(ke[Symbol.toPrimitive]=Ge)}var Je,Ve=it("Object.prototype.toString"),ze=Object.getOwnPropertyDescriptor,He=qe?function(t){if(!t||"object"!=typeof t)return!1;var e=ze(t,"lastIndex");if(!e||!xe(e,"value"))return!1;try{Pe(t,ke)}catch(t){return t===Ie}}:function(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)&&"[object RegExp]"===Ve(t)},Xe=it("RegExp.prototype.exec"),Ye=rt("%TypeError%"),Ke=function(t){if(!He(t))throw new Ye("`regex` must be a RegExp");return function(e){return null!==Xe(t,e)}},Qe=Object.prototype.toString,Ze=function(t){var e=Qe.call(t),r="[object Arguments]"===e;return r||(r="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===Qe.call(t.callee)),r};if(!Object.keys){var tr=Object.prototype.hasOwnProperty,er=Object.prototype.toString,rr=Ze,nr=Object.prototype.propertyIsEnumerable,or=!nr.call({toString:null},"toString"),ir=nr.call(function(){},"prototype"),ar=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],sr=function(t){var e=t.constructor;return e&&e.prototype===t},cr={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},ur=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!cr["$"+t]&&tr.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{sr(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();Je=function(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===er.call(t),n=rr(t),o=e&&"[object String]"===er.call(t),i=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var a=ir&&r;if(o&&t.length>0&&!tr.call(t,0))for(var s=0;s<t.length;++s)i.push(String(s));if(n&&t.length>0)for(var c=0;c<t.length;++c)i.push(String(c));else for(var u in t)a&&"prototype"===u||!tr.call(t,u)||i.push(String(u));if(or)for(var l=function(t){if("undefined"==typeof window||!ur)return sr(t);try{return sr(t)}catch(t){return!1}}(t),p=0;p<ar.length;++p)l&&"constructor"===ar[p]||!tr.call(t,ar[p])||i.push(ar[p]);return i}}var lr=Array.prototype.slice,pr=Object.keys,fr=pr?function(t){return pr(t)}:Je,yr=Object.keys;fr.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return Ze(t)?yr(lr.call(t)):yr(t)})}else Object.keys=fr;return Object.keys||fr};var dr=fr,hr=rt("%Object.defineProperty%",!0),mr=function(){if(hr)try{return hr({},"a",{value:1}),!0}catch(t){return!1}return!1};mr.hasArrayLengthDefineBug=function(){if(!mr())return null;try{return 1!==hr([],"length",{value:1}).length}catch(t){return!0}};var gr=mr,br=rt("%Object.getOwnPropertyDescriptor%",!0);if(br)try{br([],"length")}catch(xn){br=null}var vr=gr,wr=br,Sr=vr()&&rt("%Object.defineProperty%",!0),Ar=rt("%SyntaxError%"),jr=rt("%TypeError%"),Or=function(t,e,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new jr("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new jr("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new jr("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new jr("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new jr("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new jr("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,a=arguments.length>6&&arguments[6],s=!!wr&&wr(t,e);if(Sr)Sr(t,e,{configurable:null===i&&s?s.configurable:!i,enumerable:null===n&&s?s.enumerable:!n,value:r,writable:null===o&&s?s.writable:!o});else{if(!a&&(n||o||i))throw new Ar("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=r}},Er="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),xr=Object.prototype.toString,Pr=Array.prototype.concat,Ir=vr(),kr=function(t,e,r,n){if(e in t)if(!0===n){if(t[e]===r)return}else if("function"!=typeof(o=n)||"[object Function]"!==xr.call(o)||!n())return;var o;Ir?Or(t,e,r,!0):Or(t,e,r)},Tr=function(t,e){var r=arguments.length>2?arguments[2]:{},n=dr(e);Er&&(n=Pr.call(n,Object.getOwnPropertySymbols(e)));for(var o=0;o<n.length;o+=1)kr(t,n[o],e[n[o]],r[n[o]])};Tr.supportsDescriptors=!!Ir;var Cr=Tr,Fr=rt("%String%"),_r=rt("%TypeError%"),Lr=function(t){if("symbol"==typeof t)throw new _r("Cannot convert a Symbol value to a string");return Fr(t)},Rr=it("String.prototype.replace"),Ur=/^\s$/.test("᠎"),Dr=Ur?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,Nr=Ur?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,Mr=function(){var t=Lr(st(this));return Rr(Rr(t,Dr,""),Nr,"")},Br=function(){return String.prototype.trim&&"​"==="​".trim()&&"᠎"==="᠎".trim()&&"_᠎"==="_᠎".trim()&&"᠎_"==="᠎_".trim()?String.prototype.trim:Mr},$r=nt(Br()),Wr=function(t){return st(t),$r(t)};Cr(Wr,{getPolyfill:Br,implementation:Mr,shim:function(){var t=Br();return Cr(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}});var qr=Wr,Gr=rt("%Number%"),Jr=rt("%RegExp%"),Vr=rt("%TypeError%"),zr=rt("%parseInt%"),Hr=it("String.prototype.slice"),Xr=Ke(/^0b[01]+$/i),Yr=Ke(/^0o[0-7]+$/i),Kr=Ke(/^[-+]0x[0-9a-f]+$/i),Qr=Ke(new Jr("["+["","​","￾"].join("")+"]","g")),Zr=function t(e){if("String"!==de(e))throw new Vr("Assertion failed: `argument` is not a String");if(Xr(e))return Gr(zr(Hr(e,2),2));if(Yr(e))return Gr(zr(Hr(e,2),8));if(Qr(e)||Kr(e))return NaN;var r=qr(e);return r!==e?t(r):Gr(e)},tn=rt("%TypeError%"),en=rt("%Number%"),rn=Math.floor,nn=function(t){return"BigInt"===de(t)?t:rn(t)},on=rt("%TypeError%"),an=Number.isNaN||function(t){return t!=t},sn=an,cn=function(t){var e=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}(t)?t:function(t){return arguments.length>1?We(t,arguments[1]):We(t)}(t,en);if("symbol"==typeof e)throw new tn("Cannot convert a Symbol value to a number");if("bigint"==typeof e)throw new tn("Conversion from 'BigInt' to 'number' is not allowed.");return"string"==typeof e?Zr(e):en(e)},un=Fe,ln=function(t,e){if("Object"!==de(t))throw new he("Assertion failed: Type(O) is not Object");if("string"!=typeof(r=e)&&"symbol"!=typeof r)throw new he("Assertion failed: IsPropertyKey(P) is not true, got "+ye(e));var r;return t[e]},pn=rt("%TypeError%"),fn=rt("%Object%"),yn=function(t,e){var r=arguments.length>2?arguments[2]:[];if(!pt(r))throw new ft("Assertion failed: optional `argumentsList`, if provided, must be a List");return yt(t,e,r)},dn=Ce,hn=function(t){if("Object"!==de(t))throw new pn("Assertion failed: `obj` must be an Object");return n=ln(t,"length"),r=cn(n),(o=sn(r)||0===r?0:"number"!=typeof(e=r)&&"bigint"!=typeof e||sn(e)||Infinity===e||-Infinity===e?r:function(t){if("number"!=typeof t&&"bigint"!=typeof t)throw new on("argument must be a Number or a BigInt");var e=t<0?-nn(-t):nn(t);return 0===e?0:e}(r))<=0?0:o>un?un:o;var e,r,n,o},mn=function(t){return!!t},gn=function(t){return st(t),fn(t)},bn=rt("%TypeError%");const vn=nt.apply(Array.prototype.findLastIndex||function(t){var e,r=gn(this),n=hn(r);if(!dn(t))throw new bn("predicate must be a function");arguments.length>1&&(e=arguments[1]);for(var o=n-1;o>=0;){var i=Lr(o),a=ln(r,i),s=mn(yn(t,e,[a,o,r]));if(s)return o;o-=1}return-1}),wn=it("Array.prototype.slice");function Sn(t){try{const{hostname:e,href:r,origin:n,pathname:o,search:i,protocol:a,hash:s,searchParams:c}=new URL(t||window.location.href),u={hostname:e,href:r,origin:n,pathname:o,search:i,searchParams:Object.fromEntries(c),protocol:a,hash:s,domain:"",subdomain:"",tld:"",cookieDomain:""};return e&&(u.domain=function(t){let e=(null!=t?t:location.hostname).split(".");return e=e.slice(Math.max(0,function(t,e){return ct(t),vn(t,wn(arguments,1))}(e,function(t){return t.length>3}))),e.join(".")}(e),u.subdomain=e.replace(u.domain,"").split(".").filter(t=>t).join("."),u.tld=u.domain.split(".").slice(1).join("."),u.cookieDomain="."+u.domain),u}catch(t){return null}}function An(t){return Object.fromEntries(new URLSearchParams(t||window.location.search))}function jn(t){return Object.entries(null!=t?t:An()).reduce((t,e)=>{let[r,n]=e;return c[r]?c[r].forEach(e=>{t[e]=n}):-1!==r.indexOf("utm")?t[r]=n:0===r.indexOf("fx_")&&(t[r.replace("fx_","")]=n),t},{})}function On(t,e){const r=new CustomEvent("mcfx:"+t,{detail:e});window.dispatchEvent(r)}class En{constructor(t){this._values=void 0,this.visitorSessionLength=void 0,this.cookieDomain=void 0,this.useSecureCookies=void 0,this.visitorSessionLength=t.visitorSessionLength,this.cookieDomain=t.cookieDomain,this.useSecureCookies=t.useSecureCookies,this._values=new Map,this.createSession()}get validTTL(){return(new Date).getTime()<this._values.get("ttl")}get gaDataLayer(){const t=(window.dataLayer||[]).reduce((t,e)=>(Object.entries(e).forEach(e=>{let[r,n]=e;t[r]=n}),t),{});return t.mcfxVisitorId=this.get("uid"),t.gaId=this.get("gaId"),Object.entries(t).reduce((t,e)=>{let[r,n]=e;return n&&t.push({[r]:n}),t},[])}get cookiedUID(){const t=p.get("__fx"),e=p.get("fx_uuid");return"undefined"!==t?t:"undefined"!==e?e:void 0}createSession(){const t=(new Date).getTime(),e=window.localStorage.getItem("__fx"),r=e?JSON.parse(e):{},n={sid:b(),pg:p.get("mcfxPGID"),r:document.referrer,...t<(null==r?void 0:r.ttl)?r:{},uid:this.cookiedUID||r.uid||b(),ttl:(new Date).getTime()+6e4*this.visitorSessionLength,gaId:p.get("_ga"),...jn()};var o;return void 0!==n.s&&void 0!==n.m||(o=n.r,Promise.resolve(function(t,e){try{var r=Promise.resolve(i({type:"POST",url:("https:"===document.location.protocol?"https://":"http://")+"t.marketingcloudfx.com/visitor",data:JSON.stringify({referrer:o,...An()})})).then(function(t){return JSON.parse(t.response)})}catch(t){return null}return r&&r.then?r.then(void 0,function(){return null}):r}())).then(t=>{this.set({...jn(null!=t?t:{}),s:null==t?void 0:t.source,m:null==t?void 0:t.medium,st:null==t?void 0:t.term,l:null==t?void 0:t.location,ip:null==t?void 0:t.ip}),this.cacheToLocalStorage(),On("session:visitorInfo",this.get())}),this.set(n),this.cacheToLocalStorage(),On("session:created",n),n}cacheToLocalStorage(){window.localStorage.setItem("__fx",JSON.stringify(this.get())),p.set("__fx",this.get("uid"),{path:"/",domain:this.cookieDomain,secure:this.useSecureCookies,expires:3650}),On("session:saved",this.get())}get(t){return!t||Array.isArray(t)&&!t.length?Object.fromEntries(this._values.entries()):Array.isArray(t)?t.reduce((t,e)=>(t[e]=this._values.get(e),t),{}):this._values.get(t)}set(t,e){n(t)?Object.entries(t).forEach(t=>{let[e,r]=t;this._values.set(e,r)}):this._values.set(t,e),this.cacheToLocalStorage()}}let xn;try{new EventTarget,xn=!0}catch(t){xn=!1}var Pn=xn?EventTarget:class{constructor(){this.e={}}addEventListener(t,e,r=!1){this.t(t).push(e)}removeEventListener(t,e,r=!1){const n=this.t(t),o=n.indexOf(e);o>-1&&n.splice(o,1)}dispatchEvent(t){return t.target=this,Object.freeze(t),this.t(t.type).forEach(e=>e(t)),!0}t(t){return this.e[t]=this.e[t]||[]}},In=xn?Event:class{constructor(t){this.type=t}};class kn extends In{constructor(t,e){super(t),this.newState=e.newState,this.oldState=e.oldState,this.originalEvent=e.originalEvent}}const Tn="active",Cn="passive",Fn="hidden",_n="frozen",Ln="terminated",Rn="object"==typeof safari&&safari.pushNotification,Un=["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in self?"pagehide":"unload"],Dn=t=>(t.preventDefault(),t.returnValue="Are you sure?"),Nn=[[Tn,Cn,Fn,Ln],[Tn,Cn,Fn,_n],[Fn,Cn,Tn],[_n,Fn],[_n,Tn],[_n,Cn]].map(t=>t.reduce((t,e,r)=>(t[e]=r,t),{})),Mn=()=>document.visibilityState===Fn?Fn:document.hasFocus()?Tn:Cn;var Bn=new class extends Pn{constructor(){super();const t=Mn();this.s=t,this.i=[],this.a=this.a.bind(this),Un.forEach(t=>addEventListener(t,this.a,!0)),Rn&&addEventListener("beforeunload",t=>{this.n=setTimeout(()=>{t.defaultPrevented||t.returnValue.length>0||this.r(t,Fn)},0)})}get state(){return this.s}get pageWasDiscarded(){return document.wasDiscarded||!1}addUnsavedChanges(t){!this.i.indexOf(t)>-1&&(0===this.i.length&&addEventListener("beforeunload",Dn),this.i.push(t))}removeUnsavedChanges(t){const e=this.i.indexOf(t);e>-1&&(this.i.splice(e,1),0===this.i.length&&removeEventListener("beforeunload",Dn))}r(t,e){if(e!==this.s){const r=((t,e)=>{for(let r,n=0;r=Nn[n];++n){const n=r[t],o=r[e];if(n>=0&&o>=0&&o>n)return Object.keys(r).slice(n,o+1)}return[]})(this.s,e);for(let e=0;e<r.length-1;++e){const n=r[e],o=r[e+1];this.s=o,this.dispatchEvent(new kn("statechange",{oldState:n,newState:o,originalEvent:t}))}}}a(t){switch(Rn&&clearTimeout(this.n),t.type){case"pageshow":case"resume":this.r(t,Mn());break;case"focus":this.r(t,Tn);break;case"blur":this.s===Tn&&this.r(t,Mn());break;case"pagehide":case"unload":this.r(t,t.persisted?_n:Ln);break;case"visibilitychange":this.s!==_n&&this.s!==Ln&&this.r(t,Mn());break;case"freeze":this.r(t,_n)}}};class $n{constructor(t){this.tracker=void 0,this.tracker=t}listen(){}stop(){}}class Wn{constructor(t){this.id=void 0,this.ttl=void 0,this.timeOnPage=void 0,this.windowState=void 0,this.createdAt=void 0,this.becameActiveAt=void 0,this.becameInactiveAt=void 0,this.url=void 0,this.id=b(),this.url=Sn(),this.timeOnPage=0,this.windowState="active",this.createdAt=null!=t?t:(new Date).getTime(),this.becameActiveAt=(new Date).getTime(),this.becameInactiveAt=null,this.ttl=this.extendTTL()}get validTTL(){return(new Date).getTime()<this.ttl}setWindowState(t){"active"===t&&(this.becameActiveAt=(new Date).getTime(),this.becameInactiveAt=null,this.extendTTL()),"inactive"===t&&(this.becameInactiveAt=(new Date).getTime(),this.increaseTimeOnPage(this.becameInactiveAt-this.becameActiveAt)),this.windowState=t}increaseTimeOnPage(t){r(t)&&(t<0&&(t*=-1),this.timeOnPage+=t)}extendTTL(){return this.ttl=(new Date).getTime()+9e5}}class qn{constructor(t){this.interval=void 0,this.observers=[],this.timeoutId=null,this.interval=t,this.reset=this.reset.bind(this)}watch(t){this.observers.push(t)}unwatch(t){this.observers=this.observers.filter(e=>e!==t)}start(){null===this.timeoutId&&(document.addEventListener("scroll",this.reset),document.addEventListener("mousemove",this.reset),document.addEventListener("click",this.reset),document.addEventListener("dblclick",this.reset),document.addEventListener("input",this.reset)),this.timeoutId=setTimeout(()=>{this.observers.forEach(t=>t({newState:"inactive",oldState:"active"}))},this.interval)}reset(){this.start()}stop(){null!==this.timeoutId&&(clearInterval(this.timeoutId),this.timeoutId=null),document.removeEventListener("scroll",this.reset),document.removeEventListener("mousemove",this.reset),document.removeEventListener("click",this.reset),document.removeEventListener("dblclick",this.reset),document.removeEventListener("input",this.reset)}}class Gn extends $n{constructor(t){super(t),this.lastPingAt=void 0,this.activity=void 0,this.page=void 0,this.lastPingAt=null,this.activity=new qn(3e5),this.page=new Wn(t.initializedAt),this.onWindowStateChange=this.onWindowStateChange.bind(this),this.onUriChange=this.onUriChange.bind(this),this.listen(),this.send()}onUriChange(t){var e;const r=Sn();("href"===this.tracker.options.urlComparedBy?(null==r?void 0:r.href)!==(null==(e=this.page.url)?void 0:e.href):(null==r?void 0:r.pathname)!==this.page.url.pathname)&&(this.page.validTTL&&(this.page.setWindowState("inactive"),this.send()),this.tracker.session.createSession(),this.page=new Wn,this.send())}onWindowStateChange(t){const{newState:e,oldState:r}=t;"active"===r?(this.activity.stop(),this.page.validTTL&&(this.page.setWindowState("inactive"),this.send())):"active"===e&&(this.activity.start(),this.page.validTTL&&this.tracker.session.validTTL?this.page.setWindowState("active"):(this.tracker.session.createSession(),this.page=new Wn),this.send())}listen(){this.activity.start(),Bn.addEventListener("statechange",this.onWindowStateChange),window.addEventListener("popstate",this.onUriChange),window.addEventListener("pushState",this.onUriChange),window.addEventListener("replaceState",this.onUriChange)}stop(){this.activity.stop(),Bn.removeEventListener("statechange",this.onWindowStateChange),window.removeEventListener("popstate",this.onUriChange),window.removeEventListener("pushState",this.onUriChange),window.removeEventListener("replaceState",this.onUriChange)}send(){const{onViewCallback:t,siteId:e}=this.tracker.configuration;this.lastPingAt=(new Date).getTime();const n={a:e,vid:this.page.id,o:this.page.url.origin,u:this.page.url.href,te:this.page.createdAt,tl:this.page.timeOnPage,t:document.title,...this.tracker.session.get(),ttl:this.page.ttl};if(delete n.l,navigator.sendBeacon)a(s,JSON.stringify(n));else{const t=new Image(1,1),e=Object.entries(n).map(t=>{let[e,n]=t;return e+"="+(r(n)?encodeURIComponent(n):"")}).join("&"),o=s+"?"+e;t.onload=()=>{},t.src=o}On("visit:collect",n),On("collect",n),null==t||t(n)}}function Jn(t){var e;if(t.getAttribute("id"))return"#"+t.getAttribute("id");if(t.className&&""!==t.className)return Vn(t.className);if(t.getAttribute("name"))return'[name="'+t.getAttribute("name")+'"]';const r=Array.from((null==(e=t.parentElement)?void 0:e.children)||[]).filter(e=>e.tagName===t.tagName);return r.indexOf(t)?t.tagName+":nth-of-type("+(r.indexOf(t)+1)+")":""+t.tagName}function Vn(t){if(!t)return"";let e="."+t;for(;-1!==e.indexOf(" ");)e=e.replace(" ",".");return e}function zn(t){let e="";for(;t.parentElement;)e=Jn(t)+(e?" > ":"")+e,t=t.parentElement;return"html > "+e.toLowerCase()}function Hn(t){return{...t.getAttributeNames().reduce((e,r)=>({...e,[r]:t.getAttribute(r)}),{}),id:t.getAttribute("id")?""+t.getAttribute("id"):null,class:t.className&&""!==t.className?Vn(t.className):null,name:t.getAttribute("name")?""+t.getAttribute("name"):null,xpath:zn(t)}}const Xn=function(t){const e=history[t];return function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,window.dispatchEvent(n),r}};window.history.pushState=Xn("pushState"),window.history.replaceState=Xn("replaceState");const Yn={visits:Gn,view:Gn,forms:class extends $n{constructor(t){super(t),this.submissions=void 0,this.onFormCapture=this.onFormCapture.bind(this),this.submissions=new Map(Object.entries(JSON.parse(window.sessionStorage.getItem("fxFormSessions")||"{}"))),this.listen()}listen(){window.addEventListener("submit",this.onFormCapture,!0)}stop(){window.removeEventListener("submit",this.onFormCapture)}onFormCapture(t){this.capture(t.target)}capture(t){On("form:precapture",{form:t});const{trackInputs:e,onFormCapture:r,filterFormInputs:n}=this.tracker.configuration;if(!1===(null==r?void 0:r(t)))return;const o=this.getSubmissionId(t),i=n(e?function(t,e){if(void 0===e&&(e=!1),!t)throw new Error("You must provide a form.");const r=new FormData(t),n=Object.entries(Object.fromEntries(r)).reduce((t,e)=>{let[r,n]=e;return t[r.toLowerCase()]=n,t},{});return Array.from(t.elements).forEach(t=>{var e;const o=(""+t.type).toLowerCase();if(["submit","reset","button"].includes(o))return;const i=t.name,a=i?i.toLowerCase():null==(e=t.getAttribute("id"))?void 0:e.toLowerCase();!a||"checkbox"!==o&&"SELECT"!==t.nodeName||(n[a]="select-one"===o?r.get(i):r.getAll(i)),a&&void 0===n[a]&&(n[a]=null)}),e?n:function(t,e){return Object.entries(t).reduce((t,r)=>{var n;let[o,i]=r,a=i;return(e&&"password"===(""+(null==(n=e.elements[o])?void 0:n.type)).toLowerCase()||/password/.test(o)||/pin[_-]?(num(ber)?)?/.test(o)||/credit[_-]?card/.test(o)||/card[_-]?number/.test(o)||/cc[_-]?num(ber)?/.test(o)||/cvv/.test(o)||function(t){if(/[^0-9-\s]+/.test(t))return!1;if(String(t).length<12||String(t).length>19)return!1;let e=0,r=0,n=!1;for(let o=(t=t.replace(/\D/g,"")).length-1;o>=0;o--){const i=t.charAt(o);r=parseInt(i,10),n&&(r*=2)>9&&(r-=9),e+=r,n=!n}return e%10==0}(""+i)||/^\d{3}-\d{2}-\d{4}$/.test(""+i)||/social[_-]?(security)?[_-]?(num(ber)?)?/.test(o))&&(a="".padEnd((""+a).length,"*")),t[o]=a,t},{})}(n,t)}(t):{},t),a=e?function(t){if(!t)throw new Error("You must provide a form.");return Array.from(t.elements||[]).reduce((t,e)=>{var r;const n=(""+e.type).toLowerCase();if(["submit","reset","button"].includes(n))return t;const o=e.name?e.name.toLowerCase():null==(r=e.getAttribute("id"))?void 0:r.toLowerCase();return o&&(t[o]=n),t},{})}(t):{},s={...Hn(t),fxId:this.getOrCreateId(t)};return On("form:postcapture",{form:t,submissionId:o,values:i,fieldTypes:a,formAttributes:s}),this.tracker.send({type:"form",value:{id:o,form:s,values:i,types:a}}),o}send(t,e,r){this.capture(t)}getOrCreateId(t){const e=t?t.getAttribute("data-fx-id"):"";if(e&&""!==e)return e;const{xpath:r}=Hn(t),n=""+function(t,e){void 0===e&&(e=0);let r=3735928559^e,n=1103547991^e;for(let e,o=0;o<t.length;o++)e=t.charCodeAt(o),r=Math.imul(r^e,2654435761),n=Math.imul(n^e,1597334677);return r=Math.imul(r^r>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),4294967296*(2097151&n)+(r>>>0)}(r);return t&&t.setAttribute("data-fx-id",n),n}getSubmissionId(t){const e=this.getOrCreateId(t),r=1*(new Date).getTime(),n=this.submissions.get(e);return n&&r<n.ttl?n.id:this.generateNewSessionId(e)}generateNewSessionId(t){const{formSessionLength:e}=this.tracker.configuration,r={id:b(),ttl:1*(new Date).getTime()+6e4*e};return this.submissions.set(t,r),window.sessionStorage.setItem("fxFormSessions",JSON.stringify(Object.fromEntries(this.submissions))),r.id}},reviews:class extends $n{constructor(t){super(t),this.el=void 0,this.reviews=void 0,this.ready=void 0,this.retried=void 0,this.fetch()}fetch(){try{const t=this;return Promise.resolve(i(("https:"===document.location.protocol?"https://":"http://")+"cdn.leadmanagerfx.com/reviews/"+t.tracker.configuration.siteId+"/").catch(t=>{})).then(function(e){var r;if(!e)return;const n=JSON.parse(e.response);t.el=n.selector,t.reviews=n.reviews,t.ready=!0,t.el&&null!=(r=t.reviews)&&r.length&&t.render()})}catch(t){return Promise.reject(t)}}render(){const t=document.getElementById(this.el);if(t)t.innerHTML='\n    <div class="mcfx-reviews">\n      '+this.reviews.map(this.renderReview).join("")+"\n    </div>\n    ",On("reviews:rendered",this.reviews);else{const t=this;this.retried<2&&setTimeout(function(){t.retried++,t.render()},2e3)}}renderReview(t){let e='\n    <div class="mcfx-review" itemprop="review" itemscope itemtype="http://schema.org/Review">\n      <span class="mcfx-review-author" itemprop="author">'+t.author_name+'</span>\n      <span class="mcfx-review-date" itemprop="datePublished">'+t.date+'</span>\n      <div itemprop="reviewRating" itemscope itemtype="http://schema.org/Rating">\n        <meta itemprop="worstRating" content = "1"/>\n        <span class="mcfx-review-number-rating">\n          <span class="mcfx-review-rating" itemprop="ratingValue">'+t.rating+'</span>/\n          <span class="mcfx-review-max" itemprop="bestRating">5</span> stars\n        </span>\n        <span class="mcfx-review-stars">\n    ';for(let r=1;r<=5;r++)t.rating>=r&&(e+='<span class="mcfx-star mcfx-star-active"></span>');return e+='\n        </span>\n      </div>\n      <span class="mcfx-review-description" itemprop="reviewBody">'+t.text+"</span>\n    </div>",e}}};class Kn{constructor(t,e){var r,o;this.initializedAt=void 0,this.configuration=void 0,this.session=void 0,this.modules=void 0,this.configuration={formSessionLength:10,visitorSessionLength:30,trackInputs:!0,useSecureCookies:!0,urlComparedBy:"href",onFormCapture:t=>t,onViewCallback:t=>t,filterFormInputs:(t,e)=>t,modules:["view","forms","reviews"],cookieDomain:null!=(r=null==(o=Sn())?void 0:o.cookieDomain)?r:window.location.hostname,...n(t)?t:{siteId:t}},this.initializedAt=e,0===(""+this.configuration.siteId).toLowerCase().indexOf("ns-")&&(this.configuration.modules=this.configuration.modules.filter(t=>!["reviews"].includes(t))),this.session=new En(this.configuration),this.modules={},this.enableModule(this.configuration.modules),this.loadConfig()}get options(){return this.configuration}get visitor(){return this.session}send(){try{const e=this;var t=[].slice.call(arguments);let r;const o={a:e.configuration.siteId,o:window.location.origin,u:window.location.href,te:(new Date).getTime(),...e.session.get()};return n(t[0])?(t[0].hitType&&(t[0].type=t[0].hitType,delete t[0].hitType),r={type:"event",category:null,action:null,label:null,value:null,...t[0],attrib:o}):r={type:t[0]||"event",category:t[1]||null,action:t[2]||null,label:t[3]||null,value:t[4]||null,attrib:o},a("https://t.marketingcloudfx.com/event",r),On(r.type+":collect",r),On("collect",r),Promise.resolve()}catch(t){return Promise.reject(t)}}capture(t){var e;null==(e=this.modules.forms)||e.capture(t)}configure(t,e){void 0===e&&(e=null),Array.isArray(t)?t.forEach((t,r)=>{this.configuration[t]=Array.isArray(e)&&e[r]?e[r]:e}):n(t)?Object.keys(t).forEach(e=>{this.configuration[e]=t[e]}):this.configuration[t]=e}set(t,e){this.session.set(t,e)}get(t){return this.session.get(t)}enableModule(t){void 0===t&&(t=[]),Array.isArray(t)||(t=[t]),t.forEach(t=>{Yn[t]&&(this.modules[t]=new Yn[t](this))})}disableModule(t){void 0===t&&(t=[]),Array.isArray(t)||(t=[t]),t.forEach(t=>{var e;this.modules[t]&&(null==(e=this.modules[t])||e.stop(),delete this.modules[t])})}isModuleEnabled(t){return!!this.modules[t]}decorate(t){if(!t)return;Array.isArray(t)||(t=[t]);const e=document.querySelectorAll("a"),{r:n,ttl:o,...i}=this.session.get();e.forEach(e=>{const n=Sn(e.href);if(!n)return;const o=An(n.search);t.forEach(t=>{if(-1!==e.href.indexOf(t)){const t=new URLSearchParams({...o,...Object.entries(i).reduce((t,e)=>{let[n,o]=e;return"l"===n||r(o)&&(t["fx_"+n]=o),t},{})}).toString();e.href=""+n.origin+n.pathname+"?"+t+n.hash}})})}loadConfig(){try{const t=this;return Promise.resolve(function(t){try{const e=("https:"===document.location.protocol?"https://":"http://")+"t.marketingcloudfx.com/config?siteId="+t;return Promise.resolve(i(e).catch(t=>{})).then(function(t){if(!t)return null;const e=JSON.parse(t.response).data;if(!Object.keys(e).length)return null;const{visitTracking:r,leadTracking:n,visitorRecording:o,reviewIntegration:i,...a}=null!=e?e:{},s=[r?"view":null,n?"forms":null,i?"reviews":null].filter(t=>null!==t);return{...a,...s.length?{modules:s}:{}}})}catch(t){return Promise.reject(t)}}(t.configuration.siteId).catch(t=>{})).then(function(e){var r;if(!e)return;const{modules:n=[]}=e,o=null==(r=t.configuration)||null==(r=r.modules)?void 0:r.filter(t=>!n.includes(t));t.configure(e),n.forEach(e=>{var r;null!=(r=t.configuration)&&r.modules.includes(e)||t.enableModule(e)}),t.disableModule(o)})}catch(t){return Promise.reject(t)}}}const{q:Qn,e:Zn}=window.mcfx||{};window.mcfx=function(){var e=[].slice.call(arguments);const[r,...n]=e;if(this.tracker||"create"!==r){if(this.tracker&&"destroy"===r)return this.tracker.disableModules(this.tracker.configuration.modules),void(this.tracker=void 0);if(!this.tracker)throw new Error("MarketingCloudFX Tracker has not been configured. Please call create before other methods.");t(r)?r(this.tracker,...n):this.tracker[r]&&t(this.tracker[r])&&this.tracker[r](...n)}else this.tracker=new Kn(e[1],Zn)},Qn&&Qn.forEach(t=>window.mcfx(...t))});
//# sourceMappingURL=mcfx.js.map
